import{createPopper,right}from"@popperjs/core";class BRTooltip{constructor(t,e){this.name=t,this.component=e,this.activator=e.previousSibling.previousSibling;const i=e.getAttribute("place");this.popover=e.hasAttribute("popover"),this.notification=e.classList.contains("br-notification"),this.timer=e.getAttribute("timer"),this.active=e.hasAttribute("active"),this.placement=["top","right","bottom","left"].includes(i)?i:this.notification?"bottom":"top",this.popperInstance=null,this.showEvents=["mouseenter","focus"],this.hideEvents=["mouseleave","blur"],this._create(),this._setBehavior()}_setBehavior(){if(this.activator&&this.showEvents.forEach(t=>{this.activator.addEventListener(t,t=>{this._show(t)})}),this.popover||this.notification){const[t]=this.component.querySelectorAll(".close");t.addEventListener("click",t=>{this._hide(t)}),this.notification&&setTimeout(()=>{this.notification.style="position: absolute; left: auto; display: unset; top: 54px; bottom: auto; right: -8px;",this.notification.querySelector(".arrow").style="position: absolute; left: auto; right: 28px;"},500)}else this.hideEvents.forEach(t=>{this.activator.addEventListener(t,t=>{this._hide(t)})});this.active&&this._show(event)}_create(){this._setLayout(),this.notification?(this.component.setAttribute("notification",""),this.popperInstance=createPopper(this.activator,this.component,{modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"preventOverflow",options:{altAxis:!0,mainAxis:!0}}],placement:this.placement,strategy:"absolute"})):this.popperInstance=createPopper(this.activator,this.component,{modifiers:[{name:"offset",options:{offset:[0,8]}}],placement:this.placement})}_destroy(){if(this.popperInstance){const t=this.component;setTimeout(()=>{t.style.display="none"},500)}}_show(t){this.component.style.display="unset",this.component.setAttribute("data-show",""),this.timer&&setTimeout(this._hide,this.timer,t,this.component)}_hide(t,e){this.component?(this.component.removeAttribute("data-show"),this._destroy()):e&&(e.removeAttribute("data-show"),e.style.display="none")}_setLayout(){const t=document.createElement("div");if(t.setAttribute("data-popper-arrow",""),t.classList.add("arrow"),this.component.appendChild(t),this.popover||this.notification){const t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("close");const e=document.createElement("i");e.classList.add("fas","fa-times"),t.appendChild(e),this.component.appendChild(t)}}}const tooltipList=[];for(const t of window.document.querySelectorAll(".br-tooltip"))tooltipList.push(new BRTooltip("br-tooltip",t));export default BRTooltip;
//# sourceMappingURL=tooltip.js.map